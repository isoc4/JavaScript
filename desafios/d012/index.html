<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ano</title>
    <style>
        body{
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        button{
            width: 200px;
            height: 90px;
        }

        button:hover{
            cursor: pointer;
            background-color: transparent;
        }
    </style>
</head>
<body>
    <h1>Mudança de preço</h1>
    <button type="button" onclick="analisar(window.prompt('Informe o valor do preço anterior: (informe um valor menor que 1.000,00)'), window.prompt('Informe o valor atual do preço: (informe um valor menor que 1.000,00)'))">Verificar</button>
    <p>Clique no botão e informe o que for pedido.</p>

    <div id="res">

    </div>

    <script>
        function analisar(pAN=0, pAT=0){
            const resul = document.getElementById('res')
            let precoAntigo = Number(pAN)
            let precoAtual = Number(pAT)
            let calcularPreco = Math.abs(precoAntigo - precoAtual)
            let porcentagem = 0

            resul.innerHTML = ''

            resul.innerHTML = `<h2>Analizando os preços.</h2>`
            resul.innerHTML += `<p>O produto custava ${precoAntigo.toLocaleString('PT-BR', {style: 'currency', currency: 'BRL'})} e atualmente custa ${precoAtual.toLocaleString('PT-BR', {style: 'currency', currency: 'BRL'})}.</p>`

            if (pAN < pAT){ //MAIS CARO
                porcentagem = Math.abs(((precoAntigo / precoAtual) -1) * 100).toFixed(2)

                resul.innerHTML += `<p>Atualmente o produto está mais caro!</p>`
                resul.innerHTML += `<p>O produto subiu ${calcularPreco.toLocaleString('PT-BR', {style: 'currency', currency: 'BRL'})} em relação ao preço antigo.</p>`
                resul.innerHTML += `<p>Uma variação a partir de ${porcentagem}% pra cima.</p>`
            } else{ //MAIS BARATO
                porcentagem = Math.abs(((precoAtual / precoAntigo) -1) * 100).toFixed(2)

                resul.innerHTML += `<p>Atualmente o produto está mais barato!</p>`
                resul.innerHTML += `<p>O produto desceu ${calcularPreco.toLocaleString('PT-BR', {style: 'currency', currency: 'BRL'})} em relação ao preço antigo.</p>`
                resul.innerHTML += `<p>Uma variação a partir de ${porcentagem}% pra baixo.</p>`
            }
        }
    </script>
</body>
</html>